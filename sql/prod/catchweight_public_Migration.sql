create table "_Migration"
(
    revision           serial       not null
        constraint "_Migration_pkey"
            primary key,
    name               text         not null,
    datamodel          text         not null,
    status             text         not null,
    applied            integer      not null,
    rolled_back        integer      not null,
    datamodel_steps    text         not null,
    database_migration text         not null,
    errors             text         not null,
    started_at         timestamp(3) not null,
    finished_at        timestamp(3)
);

alter table "_Migration"
    owner to ops;

INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (1, '20201103210817-init-prod-db', 'datasource db {
  provider = "postgresql"
  url      = "***"
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  name      String?
  role      String
  email     String?  @unique

  @@map(name: "users")
}

model Person {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @default(now()) @map(name: "updated_at")
  name          String    @unique
  nickName      String    @unique
  weighIns      WeighIn[]
  currentWeight Int?

  @@map(name: "people")
}

model WeighIn {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  weighDate DateTime
  weight    Int
  personId  Int?
  person    Person?  @relation(fields: [personId], references: [id])

  @@map(name: "weighins")
}
', 'MigrationSuccess', 7, 0, '[{"tag":"CreateSource","source":"db"},{"tag":"CreateArgument","location":{"tag":"Source","source":"db"},"argument":"provider","value":"\"postgresql\""},{"tag":"CreateArgument","location":{"tag":"Source","source":"db"},"argument":"url","value":"\"***\""},{"tag":"CreateModel","model":"User"},{"tag":"CreateField","model":"User","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"User","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"User","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateField","model":"User","field":"name","type":"String","arity":"Optional"},{"tag":"CreateField","model":"User","field":"role","type":"String","arity":"Required"},{"tag":"CreateField","model":"User","field":"email","type":"String","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"email"},"directive":"unique"}},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"User"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"User"},"directive":"map"},"argument":"name","value":"\"users\""},{"tag":"CreateModel","model":"Person"},{"tag":"CreateField","model":"Person","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"Person","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"Person","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateField","model":"Person","field":"name","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"name"},"directive":"unique"}},{"tag":"CreateField","model":"Person","field":"nickName","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"nickName"},"directive":"unique"}},{"tag":"CreateField","model":"Person","field":"weighIns","type":"WeighIn","arity":"List"},{"tag":"CreateField","model":"Person","field":"currentWeight","type":"Int","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"Person"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"Person"},"directive":"map"},"argument":"name","value":"\"people\""},{"tag":"CreateModel","model":"WeighIn"},{"tag":"CreateField","model":"WeighIn","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"WeighIn","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"WeighIn","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateField","model":"WeighIn","field":"weighDate","type":"DateTime","arity":"Required"},{"tag":"CreateField","model":"WeighIn","field":"weight","type":"Int","arity":"Required"},{"tag":"CreateField","model":"WeighIn","field":"personId","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"WeighIn","field":"person","type":"Person","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"person"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"person"},"directive":"relation"},"argument":"fields","value":"[personId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"person"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"WeighIn"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"WeighIn"},"directive":"map"},"argument":"name","value":"\"weighins\""}]', '{"before":{"tables":[{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}}},{"CreateIndex":{"table":"users","index":{"name":"users.email_unique","columns":["email"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"people","index":{"name":"people.name_unique","columns":["name"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"people","index":{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"},"caused_by_create_table":true}},{"AddForeignKey":{"table":"weighins","foreign_key":{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}}}]}', '[]', '2020-11-03 21:08:23.835', '2020-11-03 21:08:25.302');
INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (2, '20201108032953-weight-type--int----float', 'datasource db {
  provider = "postgresql"
  url      = "***"
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  name      String?
  role      String
  email     String?  @unique

  @@map(name: "users")
}

model Person {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @default(now()) @map(name: "updated_at")
  name          String    @unique
  nickName      String    @unique
  weighIns      WeighIn[]
  currentWeight Int?

  @@map(name: "people")
}

model WeighIn {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  weighDate DateTime
  weight    Float
  personId  Int?
  person    Person?  @relation(fields: [personId], references: [id])

  @@map(name: "weighins")
}
', 'MigrationSuccess', 1, 0, '[{"tag":"UpdateField","model":"WeighIn","field":"weight","type":"Float"}]', '{"before":{"tables":[{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''people_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"people_id_seq","initialValue":1,"allocationSize":1},"constraintName":"people_pkey"},"foreignKeys":[]},{"name":"users","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''users_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"users_id_seq","initialValue":1,"allocationSize":1},"constraintName":"users_pkey"},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''weighins_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"weighins_id_seq","initialValue":1,"allocationSize":1},"constraintName":"weighins_pkey"},"foreignKeys":[{"constraintName":"weighins_personId_fkey","columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"users_id_seq","initialValue":1,"allocationSize":1},{"name":"people_id_seq","initialValue":1,"allocationSize":1},{"name":"weighins_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]},"changes":[{"AlterColumn":{"column_name":"weight"}}]}}]}', '[]', '2020-11-08 03:30:02.475', '2020-11-08 03:30:03.077');
INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (3, '20201108033928-person-current-weight--int----float', 'datasource db {
  provider = "postgresql"
  url      = "***"
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  name      String?
  role      String
  email     String?  @unique

  @@map(name: "users")
}

model Person {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @default(now()) @map(name: "updated_at")
  name          String    @unique
  nickName      String    @unique
  weighIns      WeighIn[]
  currentWeight Float?

  @@map(name: "people")
}

model WeighIn {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  weighDate DateTime
  weight    Float
  personId  Int?
  person    Person?  @relation(fields: [personId], references: [id])

  @@map(name: "weighins")
}
', 'MigrationSuccess', 1, 0, '[{"tag":"UpdateField","model":"Person","field":"currentWeight","type":"Float"}]', '{"before":{"tables":[{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''people_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"people_id_seq","initialValue":1,"allocationSize":1},"constraintName":"people_pkey"},"foreignKeys":[]},{"name":"users","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''users_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"users_id_seq","initialValue":1,"allocationSize":1},"constraintName":"users_pkey"},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''weighins_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"decimal","arity":"required","nativeType":{"Numeric":[65,30]}},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"weighins_id_seq","initialValue":1,"allocationSize":1},"constraintName":"weighins_pkey"},"foreignKeys":[{"constraintName":"weighins_personId_fkey","columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"users_id_seq","initialValue":1,"allocationSize":1},{"name":"people_id_seq","initialValue":1,"allocationSize":1},{"name":"weighins_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AlterColumn":{"column_name":"currentWeight"}}]}}]}', '[]', '2020-11-08 03:39:39.533', '2020-11-08 03:39:40.130');