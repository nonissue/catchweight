create table "_Migration"
(
    revision           serial       not null
        constraint "_Migration_pkey"
            primary key,
    name               text         not null,
    datamodel          text         not null,
    status             text         not null,
    applied            integer      not null,
    rolled_back        integer      not null,
    datamodel_steps    text         not null,
    database_migration text         not null,
    errors             text         not null,
    started_at         timestamp(3) not null,
    finished_at        timestamp(3)
);

alter table "_Migration"
    owner to ops;

INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (1, '20201025071957-init-postgres-dev', 'datasource db {
  provider = "postgresql"
  url      = "***"
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  name      String?
  role      String
  email     String?  @unique

  @@map(name: "users")
}

model Person {
  id        Int       @id @default(autoincrement())
  createdAt DateTime  @default(now()) @map(name: "created_at")
  updatedAt DateTime  @default(now()) @map(name: "updated_at")
  name      String    @unique
  nickName  String    @unique
  weighIns  WeighIn[]

  @@map(name: "people")
}

model WeighIn {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  weighDate DateTime
  weight    Int
  personId  Int?
  person    Person?  @relation(fields: [personId], references: [id])

  @@map(name: "weighins")
}
', 'MigrationSuccess', 7, 0, '[{"tag":"CreateSource","source":"db"},{"tag":"CreateArgument","location":{"tag":"Source","source":"db"},"argument":"provider","value":"\"postgresql\""},{"tag":"CreateArgument","location":{"tag":"Source","source":"db"},"argument":"url","value":"\"***\""},{"tag":"CreateModel","model":"User"},{"tag":"CreateField","model":"User","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"User","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"User","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateField","model":"User","field":"name","type":"String","arity":"Optional"},{"tag":"CreateField","model":"User","field":"role","type":"String","arity":"Required"},{"tag":"CreateField","model":"User","field":"email","type":"String","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"email"},"directive":"unique"}},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"User"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"User"},"directive":"map"},"argument":"name","value":"\"users\""},{"tag":"CreateModel","model":"Person"},{"tag":"CreateField","model":"Person","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"Person","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"Person","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Person","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateField","model":"Person","field":"name","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"name"},"directive":"unique"}},{"tag":"CreateField","model":"Person","field":"nickName","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Person","field":"nickName"},"directive":"unique"}},{"tag":"CreateField","model":"Person","field":"weighIns","type":"WeighIn","arity":"List"},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"Person"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"Person"},"directive":"map"},"argument":"name","value":"\"people\""},{"tag":"CreateModel","model":"WeighIn"},{"tag":"CreateField","model":"WeighIn","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"WeighIn","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"WeighIn","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateField","model":"WeighIn","field":"weighDate","type":"DateTime","arity":"Required"},{"tag":"CreateField","model":"WeighIn","field":"weight","type":"Int","arity":"Required"},{"tag":"CreateField","model":"WeighIn","field":"personId","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"WeighIn","field":"person","type":"Person","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"person"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"person"},"directive":"relation"},"argument":"fields","value":"[personId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"person"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"WeighIn"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"WeighIn"},"directive":"map"},"argument":"name","value":"\"weighins\""}]', '{"before":{"tables":[{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}}},{"CreateIndex":{"table":"users","index":{"name":"users.email_unique","columns":["email"],"tpe":"unique"},"caused_by_create_table":true,"contains_nullable_columns":true}},{"CreateIndex":{"table":"people","index":{"name":"people.name_unique","columns":["name"],"tpe":"unique"},"caused_by_create_table":true,"contains_nullable_columns":false}},{"CreateIndex":{"table":"people","index":{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"},"caused_by_create_table":true,"contains_nullable_columns":false}},{"AddForeignKey":{"table":"weighins","foreign_key":{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}}}]}', '[]', '2020-10-25 07:20:03.292', '2020-10-25 07:20:04.999');
INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (5, '20210103215712-update', 'datasource db {
  provider = "postgresql"
  url      = "***"
}

model User {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @default(now()) @map(name: "updated_at")
  name          String    @unique
  role          Role      @default(USER)
  email         String?   @unique
  nickName      String?   @unique
  emailVerified DateTime? @map(name: "email_verified")
  password      String?
  currentWeight Float?
  weighIns      WeighIn[]
  startWeight   Float?

  @@map(name: "users")
}

model Person {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @default(now()) @map(name: "updated_at")
  name          String    @unique
  nickName      String    @unique
  weighIns      WeighIn[]
  currentWeight Float?

  @@map(name: "people")
}

model WeighIn {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  weighDate DateTime
  weight    Float
  personId  Int?
  person    Person?  @relation(fields: [personId], references: [id])
  userId    Int?
  user      User?    @relation(fields: [userId], references: [id])

  @@map(name: "weighins")
}

enum Role {
  USER
  ADMIN
}

enum AuthMethod {
  EMAIL
  PASSWORD
}

model Account {
  id                 Int       @id @default(autoincrement())
  compoundId         String    @unique @map(name: "compound_id")
  userId             Int       @map(name: "user_id")
  providerType       String    @map(name: "provider_type")
  providerId         String    @map(name: "provider_id")
  providerAccountId  String    @map(name: "provider_account_id")
  refreshToken       String?   @map(name: "refresh_token")
  accessToken        String?   @map(name: "access_token")
  accessTokenExpires DateTime? @map(name: "access_token_expires")
  createdAt          DateTime  @default(now()) @map(name: "created_at")
  updatedAt          DateTime  @default(now()) @map(name: "updated_at")

  @@index([providerAccountId], name: "providerAccountId")
  @@index([providerId], name: "providerId")
  @@index([userId], name: "userId")
  @@map(name: "accounts")
}

model Session {
  id           Int      @id @default(autoincrement())
  userId       Int      @map(name: "user_id")
  expires      DateTime
  sessionToken String   @unique @map(name: "session_token")
  accessToken  String   @unique @map(name: "access_token")
  createdAt    DateTime @default(now()) @map(name: "created_at")
  updatedAt    DateTime @default(now()) @map(name: "updated_at")

  @@map(name: "sessions")
}

model VerificationRequest {
  id         Int      @id @default(autoincrement())
  identifier String
  token      String   @unique
  expires    DateTime
  createdAt  DateTime @default(now()) @map(name: "created_at")
  updatedAt  DateTime @default(now()) @map(name: "updated_at")

  @@map(name: "verification_requests")
}
', 'MigrationSuccess', 0, 0, '[{"tag":"CreateEnum","enum":"Role","values":["USER","ADMIN"]},{"tag":"CreateEnum","enum":"AuthMethod","values":["EMAIL","PASSWORD"]},{"tag":"CreateModel","model":"Account"},{"tag":"CreateField","model":"Account","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"Account","field":"compoundId","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"compoundId"},"directive":"unique"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"compoundId"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"compoundId"},"directive":"map"},"argument":"name","value":"\"compound_id\""},{"tag":"CreateField","model":"Account","field":"userId","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"userId"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"userId"},"directive":"map"},"argument":"name","value":"\"user_id\""},{"tag":"CreateField","model":"Account","field":"providerType","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"providerType"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"providerType"},"directive":"map"},"argument":"name","value":"\"provider_type\""},{"tag":"CreateField","model":"Account","field":"providerId","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"providerId"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"providerId"},"directive":"map"},"argument":"name","value":"\"provider_id\""},{"tag":"CreateField","model":"Account","field":"providerAccountId","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"providerAccountId"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"providerAccountId"},"directive":"map"},"argument":"name","value":"\"provider_account_id\""},{"tag":"CreateField","model":"Account","field":"refreshToken","type":"String","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"refreshToken"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"refreshToken"},"directive":"map"},"argument":"name","value":"\"refresh_token\""},{"tag":"CreateField","model":"Account","field":"accessToken","type":"String","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"accessToken"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"accessToken"},"directive":"map"},"argument":"name","value":"\"access_token\""},{"tag":"CreateField","model":"Account","field":"accessTokenExpires","type":"DateTime","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"accessTokenExpires"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"accessTokenExpires"},"directive":"map"},"argument":"name","value":"\"access_token_expires\""},{"tag":"CreateField","model":"Account","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"Account","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Account","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Account","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"Account"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"Account"},"directive":"map"},"argument":"name","value":"\"accounts\""},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"Account","arguments":[{"name":"","value":"[providerAccountId]"},{"name":"name","value":"\"providerAccountId\""}]},"directive":"index"}},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"Account","arguments":[{"name":"","value":"[providerId]"},{"name":"name","value":"\"providerId\""}]},"directive":"index"}},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"Account","arguments":[{"name":"","value":"[userId]"},{"name":"name","value":"\"userId\""}]},"directive":"index"}},{"tag":"CreateModel","model":"Session"},{"tag":"CreateField","model":"Session","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Session","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"Session","field":"userId","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"userId"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Session","field":"userId"},"directive":"map"},"argument":"name","value":"\"user_id\""},{"tag":"CreateField","model":"Session","field":"expires","type":"DateTime","arity":"Required"},{"tag":"CreateField","model":"Session","field":"sessionToken","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"sessionToken"},"directive":"unique"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"sessionToken"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Session","field":"sessionToken"},"directive":"map"},"argument":"name","value":"\"session_token\""},{"tag":"CreateField","model":"Session","field":"accessToken","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"accessToken"},"directive":"unique"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"accessToken"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Session","field":"accessToken"},"directive":"map"},"argument":"name","value":"\"access_token\""},{"tag":"CreateField","model":"Session","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Session","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Session","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"Session","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Session","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Session","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Session","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"Session"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"Session"},"directive":"map"},"argument":"name","value":"\"sessions\""},{"tag":"CreateModel","model":"VerificationRequest"},{"tag":"CreateField","model":"VerificationRequest","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"VerificationRequest","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"VerificationRequest","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"VerificationRequest","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateField","model":"VerificationRequest","field":"identifier","type":"String","arity":"Required"},{"tag":"CreateField","model":"VerificationRequest","field":"token","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"VerificationRequest","field":"token"},"directive":"unique"}},{"tag":"CreateField","model":"VerificationRequest","field":"expires","type":"DateTime","arity":"Required"},{"tag":"CreateField","model":"VerificationRequest","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"VerificationRequest","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"VerificationRequest","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"VerificationRequest","field":"createdAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"VerificationRequest","field":"createdAt"},"directive":"map"},"argument":"name","value":"\"created_at\""},{"tag":"CreateField","model":"VerificationRequest","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"VerificationRequest","field":"updatedAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"VerificationRequest","field":"updatedAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"VerificationRequest","field":"updatedAt"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"VerificationRequest","field":"updatedAt"},"directive":"map"},"argument":"name","value":"\"updated_at\""},{"tag":"CreateDirective","location":{"path":{"tag":"Model","model":"VerificationRequest"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Model","model":"VerificationRequest"},"directive":"map"},"argument":"name","value":"\"verification_requests\""},{"tag":"CreateField","model":"User","field":"nickName","type":"String","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"nickName"},"directive":"unique"}},{"tag":"CreateField","model":"User","field":"emailVerified","type":"DateTime","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"emailVerified"},"directive":"map"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"emailVerified"},"directive":"map"},"argument":"name","value":"\"email_verified\""},{"tag":"CreateField","model":"User","field":"password","type":"String","arity":"Optional"},{"tag":"CreateField","model":"User","field":"currentWeight","type":"Float","arity":"Optional"},{"tag":"CreateField","model":"User","field":"weighIns","type":"WeighIn","arity":"List"},{"tag":"CreateField","model":"User","field":"startWeight","type":"Float","arity":"Optional"},{"tag":"UpdateField","model":"User","field":"name","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"name"},"directive":"unique"}},{"tag":"UpdateField","model":"User","field":"role","type":"Role"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"role"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"role"},"directive":"default"},"argument":"","value":"USER"},{"tag":"CreateField","model":"WeighIn","field":"userId","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"WeighIn","field":"user","type":"User","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeighIn","field":"user"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"user"},"directive":"relation"},"argument":"fields","value":"[userId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeighIn","field":"user"},"directive":"relation"},"argument":"references","value":"[id]"}]', '{"before":{"tables":[{"name":"accounts","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''accounts_id_seq''::regclass)"},"autoIncrement":true},{"name":"compound_id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"user_id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"provider_type","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"provider_id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"provider_account_id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"refresh_token","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"access_token","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"access_token_expires","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false}],"indices":[{"name":"accounts.compound_id_unique","columns":["compound_id"],"tpe":"unique"},{"name":"providerAccountId","columns":["provider_account_id"],"tpe":"normal"},{"name":"providerId","columns":["provider_id"],"tpe":"normal"},{"name":"userId","columns":["user_id"],"tpe":"normal"}],"primaryKey":{"columns":["id"],"sequence":{"name":"accounts_id_seq","initialValue":1,"allocationSize":1},"constraintName":"accounts_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''people_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"decimal","arity":"nullable","nativeType":{"Numeric":[65,30]}},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"people_id_seq","initialValue":1,"allocationSize":1},"constraintName":"people_pkey"},"foreignKeys":[]},{"name":"sessions","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''sessions_id_seq''::regclass)"},"autoIncrement":true},{"name":"user_id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"expires","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"session_token","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"access_token","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false}],"indices":[{"name":"sessions.access_token_unique","columns":["access_token"],"tpe":"unique"},{"name":"sessions.session_token_unique","columns":["session_token"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"sessions_id_seq","initialValue":1,"allocationSize":1},"constraintName":"sessions_pkey"},"foreignKeys":[]},{"name":"users","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''users_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"email_verified","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"USER-DEFINED","fullDataType":"Role","characterMaximumLength":null,"family":{"enum":"Role"},"arity":"required","nativeType":null},"default":{"VALUE":"USER"},"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"decimal","arity":"nullable","nativeType":{"Numeric":[65,30]}},"default":null,"autoIncrement":false},{"name":"startWeight","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"decimal","arity":"nullable","nativeType":{"Numeric":[65,30]}},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"},{"name":"users.name_unique","columns":["name"],"tpe":"unique"},{"name":"users.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"users_id_seq","initialValue":1,"allocationSize":1},"constraintName":"users_pkey"},"foreignKeys":[]},{"name":"verification_requests","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''verification_requests_id_seq''::regclass)"},"autoIncrement":true},{"name":"identifier","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"token","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"expires","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false}],"indices":[{"name":"verification_requests.token_unique","columns":["token"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"verification_requests_id_seq","initialValue":1,"allocationSize":1},"constraintName":"verification_requests_pkey"},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''weighins_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"decimal","arity":"required","nativeType":{"Numeric":[65,30]}},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"weighins_id_seq","initialValue":1,"allocationSize":1},"constraintName":"weighins_pkey"},"foreignKeys":[{"constraintName":"weighins_personId_fkey","columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"},{"constraintName":"weighins_userId_fkey","columns":["userId"],"referencedTable":"users","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[{"name":"AuthMethod","values":["EMAIL","PASSWORD"]},{"name":"Role","values":["USER","ADMIN"]}],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"accounts_id_seq","initialValue":1,"allocationSize":1},{"name":"sessions_id_seq","initialValue":1,"allocationSize":1},{"name":"verification_requests_id_seq","initialValue":1,"allocationSize":1},{"name":"users_id_seq","initialValue":1,"allocationSize":1},{"name":"people_id_seq","initialValue":1,"allocationSize":1},{"name":"weighins_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":{"enum":"Role"},"arity":"required","nativeType":null},"default":{"VALUE":"USER"},"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"email_verified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"startWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.name_unique","columns":["name"],"tpe":"unique"},{"name":"users.email_unique","columns":["email"],"tpe":"unique"},{"name":"users.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"},{"constraintName":null,"columns":["userId"],"referencedTable":"users","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]},{"name":"accounts","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"compound_id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"user_id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"provider_type","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"provider_id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"provider_account_id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"refresh_token","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"access_token","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"access_token_expires","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false}],"indices":[{"name":"accounts.compound_id_unique","columns":["compound_id"],"tpe":"unique"},{"name":"providerAccountId","columns":["provider_account_id"],"tpe":"normal"},{"name":"providerId","columns":["provider_id"],"tpe":"normal"},{"name":"userId","columns":["user_id"],"tpe":"normal"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"sessions","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"user_id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"expires","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"session_token","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"access_token","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false}],"indices":[{"name":"sessions.session_token_unique","columns":["session_token"],"tpe":"unique"},{"name":"sessions.access_token_unique","columns":["access_token"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"verification_requests","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"identifier","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"token","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"expires","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false}],"indices":[{"name":"verification_requests.token_unique","columns":["token"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}],"enums":[{"name":"Role","values":["USER","ADMIN"]},{"name":"AuthMethod","values":["EMAIL","PASSWORD"]}],"sequences":[]},"steps":[]}', '[]', '2021-01-03 21:57:19.107', '2021-01-03 21:57:19.382');
INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (3, '20201108032204-int----float', 'datasource db {
  provider = "postgresql"
  url      = "***"
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  name      String?
  role      String
  email     String?  @unique

  @@map(name: "users")
}

model Person {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @default(now()) @map(name: "updated_at")
  name          String    @unique
  nickName      String    @unique
  weighIns      WeighIn[]
  currentWeight Int?

  @@map(name: "people")
}

model WeighIn {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  weighDate DateTime
  weight    Float
  personId  Int?
  person    Person?  @relation(fields: [personId], references: [id])

  @@map(name: "weighins")
}
', 'MigrationSuccess', 1, 0, '[{"tag":"UpdateField","model":"WeighIn","field":"weight","type":"Float"}]', '{"before":{"tables":[{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''people_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"people_id_seq","initialValue":1,"allocationSize":1},"constraintName":"people_pkey"},"foreignKeys":[]},{"name":"users","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''users_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"users_id_seq","initialValue":1,"allocationSize":1},"constraintName":"users_pkey"},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''weighins_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"weighins_id_seq","initialValue":1,"allocationSize":1},"constraintName":"weighins_pkey"},"foreignKeys":[{"constraintName":"weighins_personId_fkey","columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"users_id_seq","initialValue":1,"allocationSize":1},{"name":"people_id_seq","initialValue":1,"allocationSize":1},{"name":"weighins_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]},"changes":[{"AlterColumn":{"column_name":"weight"}}]}}]}', '[]', '2020-11-08 03:22:11.782', '2020-11-08 03:22:12.353');
INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (2, '20201103191015-add-current-weight-to-person', 'datasource db {
  provider = "postgresql"
  url      = "***"
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  name      String?
  role      String
  email     String?  @unique

  @@map(name: "users")
}

model Person {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @default(now()) @map(name: "updated_at")
  name          String    @unique
  nickName      String    @unique
  weighIns      WeighIn[]
  currentWeight Int?

  @@map(name: "people")
}

model WeighIn {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  weighDate DateTime
  weight    Int
  personId  Int?
  person    Person?  @relation(fields: [personId], references: [id])

  @@map(name: "weighins")
}
', 'MigrationSuccess', 1, 0, '[{"tag":"CreateField","model":"Person","field":"currentWeight","type":"Int","arity":"Optional"}]', '{"before":{"tables":[{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''people_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"people_id_seq","initialValue":1,"allocationSize":1},"constraintName":"people_pkey"},"foreignKeys":[]},{"name":"users","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''users_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"users_id_seq","initialValue":1,"allocationSize":1},"constraintName":"users_pkey"},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''weighins_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"weighins_id_seq","initialValue":1,"allocationSize":1},"constraintName":"weighins_pkey"},"foreignKeys":[{"constraintName":"weighins_personId_fkey","columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"users_id_seq","initialValue":1,"allocationSize":1},{"name":"people_id_seq","initialValue":1,"allocationSize":1},{"name":"weighins_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}}}]}}]}', '[]', '2020-11-03 19:10:20.988', '2020-11-03 19:10:21.388');
INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (4, '20201108034113-person-current-weight--int----float', 'datasource db {
  provider = "postgresql"
  url      = "***"
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  name      String?
  role      String
  email     String?  @unique

  @@map(name: "users")
}

model Person {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @default(now()) @map(name: "updated_at")
  name          String    @unique
  nickName      String    @unique
  weighIns      WeighIn[]
  currentWeight Float?

  @@map(name: "people")
}

model WeighIn {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  weighDate DateTime
  weight    Float
  personId  Int?
  person    Person?  @relation(fields: [personId], references: [id])

  @@map(name: "weighins")
}
', 'MigrationSuccess', 1, 0, '[{"tag":"UpdateField","model":"Person","field":"currentWeight","type":"Float"}]', '{"before":{"tables":[{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''people_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"people_id_seq","initialValue":1,"allocationSize":1},"constraintName":"people_pkey"},"foreignKeys":[]},{"name":"users","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''users_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required","nativeType":"Text"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":"Text"},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"users_id_seq","initialValue":1,"allocationSize":1},"constraintName":"users_pkey"},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required","nativeType":"Integer"},"default":{"SEQUENCE":"nextval(''weighins_id_seq''::regclass)"},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":{"Timestamp":3}},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"decimal","arity":"required","nativeType":{"Numeric":[65,30]}},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":"Integer"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"weighins_id_seq","initialValue":1,"allocationSize":1},"constraintName":"weighins_pkey"},"foreignKeys":[{"constraintName":"weighins_personId_fkey","columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"users_id_seq","initialValue":1,"allocationSize":1},{"name":"people_id_seq","initialValue":1,"allocationSize":1},{"name":"weighins_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"users","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false},{"name":"role","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"users.email_unique","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"weighins","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"weighDate","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"personId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["personId"],"referencedTable":"people","referencedColumns":["id"],"onDeleteAction":"setNull","onUpdateAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"people","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required","nativeType":null},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"created_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"updated_at","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required","nativeType":null},"default":"NOW","autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"nickName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required","nativeType":null},"default":null,"autoIncrement":false},{"name":"currentWeight","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable","nativeType":null},"default":null,"autoIncrement":false}],"indices":[{"name":"people.name_unique","columns":["name"],"tpe":"unique"},{"name":"people.nickName_unique","columns":["nickName"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AlterColumn":{"column_name":"currentWeight"}}]}}]}', '[]', '2020-11-08 03:41:20.236', '2020-11-08 03:41:20.856');